#!/usr/bin/env node

// declare internal libraries
// ...

// declare external libraries
var program = require('commander');

// declare project libraries
var packagejson = require('./../package.json'),
    commands_create = require('./commands/create'),
    notice = require('./console').notice,
    warning = require('./console').warning;

// now it's all done folks!
process.on('exit', function() {
  warning('***********************************************************************');
  notice();
});

// initialize
program.version(packagejson.version);

// colors is not for the deads!
notice();
warning('***********************************************************************');
warning('ABIBAO CREATE RESSOURCES');
warning('Version: ', packagejson.version);
warning('Description: ', packagejson.description);

program
  .command('create')
  .arguments('<table> <collection> <model>')
  .description('create a complete set of Fcrud materials\n')
  .action(commands_create);

// You want my help or not! Too late!
program.parse(process.argv);
if ( program.args.length===0 ) {
  warning('***********************************************************************');
  program.help();
  process.exit(0);
}